<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home ¬∑ AttenuatedTotalReflectance.jl</title><meta name="title" content="Home ¬∑ AttenuatedTotalReflectance.jl"/><meta property="og:title" content="Home ¬∑ AttenuatedTotalReflectance.jl"/><meta property="twitter:title" content="Home ¬∑ AttenuatedTotalReflectance.jl"/><meta name="description" content="Documentation for AttenuatedTotalReflectance.jl."/><meta property="og:description" content="Documentation for AttenuatedTotalReflectance.jl."/><meta property="twitter:description" content="Documentation for AttenuatedTotalReflectance.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>AttenuatedTotalReflectance.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Exported-Functions"><span>Exported Functions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Xyarc/AttenuatedTotalReflectance.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Xyarc/AttenuatedTotalReflectance.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="AttenuatedTotalReflection.jl-Documentation"><a class="docs-heading-anchor" href="#AttenuatedTotalReflection.jl-Documentation">AttenuatedTotalReflection.jl Documentation</a><a id="AttenuatedTotalReflection.jl-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#AttenuatedTotalReflection.jl-Documentation" title="Permalink"></a></h1><p>Welcome to the documentation for AttenuatedTotalReflection.jl.</p><h2 id="Exported-Functions"><a class="docs-heading-anchor" href="#Exported-Functions">Exported Functions</a><a id="Exported-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Exported-Functions" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="AttenuatedTotalReflectance.layer"><a class="docstring-binding" href="#AttenuatedTotalReflectance.layer"><code>AttenuatedTotalReflectance.layer</code></a> ‚Äî <span class="docstring-category">Type</span></summary><section><div><p>Struct object used to hold information on each layer in the overall system to be simulated</p><p>Arguments:</p><pre><code class="language-julia hljs">- `material::String`: Name of the current layer

- `n::Float64`: Refractive index of the current layer

- `k::Float64`: Extinction coefficient of the current layer

- `thickness::Float64`: Thickness of the current layer in meters [m]. Must be positive.</code></pre><p>Example:</p><pre><code class="language-julia hljs">```jldoctest

    julia&gt; thin_film = layer(&quot;Silver&quot;, 0.051585, 3.9046, 20e-9)

    julia&gt; thin_film.n
    0.051585
    julia&gt; thin_film.thickness
    20e-9
```</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Xyarc/AttenuatedTotalReflectance.jl/blob/cf2fc27aa7f07e7f9b14256dfb303a742e694ff8/src/utils.jl#L1-L25">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AttenuatedTotalReflectance.material_stack"><a class="docstring-binding" href="#AttenuatedTotalReflectance.material_stack"><code>AttenuatedTotalReflectance.material_stack</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><p>Helper function to assemble an array of layer objects to hold information on the material layers of the system to be simulated with the addition of perfectly matched layer.</p><p>Arguments:</p><pre><code class="language-julia hljs">- `materials::Vector{&lt;:NamedTuple}`: A vector containing information on the materials to use. (Name, n, k, thickness [m])</code></pre><p>Return:</p><pre><code class="language-julia hljs">- `stack`: Array of layer objects of length number_layers+1</code></pre><p>Mathematical Note:</p><p>Perfectly matched layer is required to absorb reflections from the last layer of the system. Both the PML must be larger than the thin films simulated to avoid oscillations in the output of the fresnel calculations</p><p>Example:</p><pre><code class="language-julia hljs">```jldoctest

    julia&gt; mats = [
        (material=&quot;Glass&quot;, n=1.5, k=0.0, thickness=5e-6),
        (material=&quot;Gold&quot;, n=0.18, k=3.0, thickness=50e-9),
        (material=&quot;Air&quot;, n=1.0, k=0.0, thickness=5e-6),
    ]

    julia&gt; stack = material_stack(mats)

    julia&gt; stack[1].material
    &quot;Substrate: Glass&quot;
    julia&gt; stack[2].n
    0.18
    julia&gt; stack[2].thickness
    50e-9
```</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Xyarc/AttenuatedTotalReflectance.jl/blob/cf2fc27aa7f07e7f9b14256dfb303a742e694ff8/src/utils.jl#L38-L72">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AttenuatedTotalReflectance.complex_n"><a class="docstring-binding" href="#AttenuatedTotalReflectance.complex_n"><code>AttenuatedTotalReflectance.complex_n</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><p>Helper function to take n &amp; k values to produce singular complex refractive index</p><p>Arguments:     - n: Refractive index     - k: Extinction coefficient</p><p>Return:     - Complex index of refraction</p><p>Example:         Taking the refractive index of Silver @ 586.6 nm: n = 0.051585 &amp; k = 3.9046</p><pre><code class="language-julia hljs">    ```jldoctest
    julia&gt; complex_n(0.051585, 3.9046)
    0.051585 + 3.9046im
    ```</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Xyarc/AttenuatedTotalReflectance.jl/blob/cf2fc27aa7f07e7f9b14256dfb303a742e694ff8/src/utils.jl#L109-L126">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AttenuatedTotalReflectance.snells_law"><a class="docstring-binding" href="#AttenuatedTotalReflectance.snells_law"><code>AttenuatedTotalReflectance.snells_law</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><p>Implimentation of Snell&#39;s Law to compute the angle of refraction. Computes the resulting angle due to the refraction between two materials of differing refractive indices. Returned angle can be complex.</p><p>Arguments:</p><pre><code class="language-julia hljs">- `theta_in::Number`: Angle of the incident light ray traveling through a material of refractive index, n_in, with repect to the normal prerpendicular to the interface.
- `n_in::Number`: Refractive index of the first material the light passes through. 
- `n_out::Number`: Refractive index of the second material the light passes through. 

All Arguments may be complex</code></pre><p>Return:</p><pre><code class="language-julia hljs">Resulting angle due to refraction at the interface.</code></pre><p>Example:</p><pre><code class="language-julia hljs">Taking the refractive index of Silver @ 586.6 nm: e1 = -15.243 &amp; e2 = 0.40284

```jldoctest
julia&gt; snells_law(pi/3, 1, 1.33)
0.7091 + 0.0im
julia&gt; snells_law(pi/4, 1.33, 1.0)
1.2239 + 0.0im
```</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Xyarc/AttenuatedTotalReflectance.jl/blob/cf2fc27aa7f07e7f9b14256dfb303a742e694ff8/src/utils.jl#L131-L156">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AttenuatedTotalReflectance.epsilon_to_nk"><a class="docstring-binding" href="#AttenuatedTotalReflectance.epsilon_to_nk"><code>AttenuatedTotalReflectance.epsilon_to_nk</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><p>Helper function to convert dielectric constant into n and k.</p><p>Arguments:</p><pre><code class="language-julia hljs">- `e1::Float64`: Real component of dielectric constant.

- `e2::Float64`: Imaginary component of dielectric constant.</code></pre><p>Return:</p><pre><code class="language-julia hljs">- n: Refractive index

- k: Extinction coefficient</code></pre><p>Example:</p><pre><code class="language-julia hljs">Taking the refractive index of Silver @ 586.6 nm: e1 = -15.243 &amp; e2 = 0.40284

```jldoctest
julia&gt; epsilon_to_nk(-15.243, 0.40284)
(0.0516, 3.9045)
```</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Xyarc/AttenuatedTotalReflectance.jl/blob/cf2fc27aa7f07e7f9b14256dfb303a742e694ff8/src/utils.jl#L163-L186">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AttenuatedTotalReflectance.nk_to_epsilon"><a class="docstring-binding" href="#AttenuatedTotalReflectance.nk_to_epsilon"><code>AttenuatedTotalReflectance.nk_to_epsilon</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><p>Helper function to convert n and k into the components of the dielectric constant.</p><p>Arguments:</p><pre><code class="language-julia hljs">- `n::Float64`: Refractive index
- `k::Float64`: Extinction coefficient</code></pre><p>Return:</p><pre><code class="language-julia hljs">- e1: Real component of dielectric constant.
- e2: Imaginary component of dielectric constant.</code></pre><p>Example:</p><pre><code class="language-julia hljs">Taking the refractive index of Silver @ 586.6 nm: n = 0.051585 &amp; k = 3.9046

```jldoctest
julia&gt; nk_to_epsilon(0.051585, 3.9046)
(-15.243, 0.402)
```</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Xyarc/AttenuatedTotalReflectance.jl/blob/cf2fc27aa7f07e7f9b14256dfb303a742e694ff8/src/utils.jl#L194-L215">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AttenuatedTotalReflectance.compute_transfer_coefficents"><a class="docstring-binding" href="#AttenuatedTotalReflectance.compute_transfer_coefficents"><code>AttenuatedTotalReflectance.compute_transfer_coefficents</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><p>compute<em>transfer</em>coefficients(stack, theta, wavelength, layer_j=0; S=false)</p><p>Calculate the optical transfer matrices and transmission coefficients for a multilayer  thin-film stack using the Transfer Matrix Method (TMM).</p><p><strong>Arguments</strong></p><ul><li><code>stack::Vector</code>: A vector of layer objects. Each element must have fields <code>.n</code> (refractive index),  <code>.k</code> (extinction coefficient), and <code>.thickness</code>. See <code>material_stack</code> function in utils.jl</li><li><code>theta::Number</code>: Incident angle in radians.</li><li><code>wavelength::Number</code>: Wavelength of the incident light (units must match <code>stack[i].thickness</code>).</li><li><code>layer_j::Int</code>: (Optional) The index of a specific layer of intrest. If provided, the function  calculates partial matrices and coefficients split at this layer. </li><li><code>S::Bool</code>: (Keyword) If <code>true</code>, computes coefficients for S-polarization (TE).  If <code>false</code> (default), computes for P-polarization (TM).</li></ul><p><strong>Returns</strong></p><p>A <code>Tuple</code> containing:</p><ol><li><code>C::SMatrix{2,2,ComplexF64}</code>: The total system transfer matrix.</li><li><code>D0::SMatrix{2,2,ComplexF64}</code>: The partial transfer matrix from the ambient to <code>layer_j</code>.</li><li><code>Dj::SMatrix{2,2,ComplexF64}</code>: The partial transfer matrix from <code>layer_j</code> to the substrate.</li><li><code>t_total::ComplexF64</code>: The total Fresnel transmission coefficient for the entire stack.</li><li><code>t0::ComplexF64</code>: Partial transmission coefficient from ambient to <code>layer_j</code>.</li><li><code>tj::ComplexF64</code>: Partial transmission coefficient from <code>layer_j</code> to substrate.</li></ol><p><strong>Mathematical Note</strong></p><p>The transfer matrix $ M$ for an interface and subsequent layer propagation is defined such that: <span>$egin{pmatrix} E_{i-1}^+ \ E_{i-1}^- nd{pmatrix} = M_i egin{pmatrix} E_{i}^+ \ E_{i}^- nd{pmatrix}$</span> where $ E^+$ and $ E^-$ represent the forward and backward traveling electric field components.</p><p>This algorithm is based on the work by Koji Ohta and Hatsuo Ishida (DOI: 10.1364/ao.29.001952)</p><p>This method also assumes that the system is not magnetic</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Xyarc/AttenuatedTotalReflectance.jl/blob/cf2fc27aa7f07e7f9b14256dfb303a742e694ff8/src/Fresnel_Equations.jl#L55-L88">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AttenuatedTotalReflectance.angular_ATR"><a class="docstring-binding" href="#AttenuatedTotalReflectance.angular_ATR"><code>AttenuatedTotalReflectance.angular_ATR</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">angular_ATR(stack, theta_range, wavelength, d=0.0, metal_layer=0; S=false)</code></pre><p>Perform an angle dependant Attenuated Total Reflection (ATR) simulation, calculating  reflectivity, transmittance, and the electric field enhancement at a specific location for each angle.</p><p><strong>Arguments</strong></p><ul><li><code>stack::Vector</code>: A vector of layer objects. Each must contain <code>.n</code>, <code>.k</code>, and <code>.thickness</code>. See <code>material_stack</code></li><li><code>theta_range::AbstractVector</code>: A range or vector of incident angles in radians.</li><li><code>wavelength::Number</code>: The vacuum wavelength of the incident light.</li><li><code>d::Number</code>: The distance from the interface of the <code>target_layer</code> (in the same units  as <code>wavelength</code>) at which to compute the electric field.</li><li><code>metal_layer::Int</code>: An index used by <code>Target_Layer</code> to identify the specific layer  of interest (e.g., the gold layer in a Kretschmann configuration).</li><li><code>S::Bool</code>: If <code>true</code>, calculates for S-polarization (TE). If <code>false</code> (default),  calculates for P-polarization (TM).</li></ul><p><strong>Returns</strong></p><p>A <code>Tuple</code> containing eight vectors (each of length <code>length(theta_range)</code>):</p><ol><li><code>reflectivity</code>: Intensity reflection coefficient (R).</li><li><code>transmittance</code>: Intensity transmission coefficient (T) into the final medium.</li><li><code>f_x</code>: Normalized field intensity component <span>$|E_x/E_0|^2$</span>.</li><li><code>f_y</code>: Normalized field intensity component <span>$|E_y/E_0|^2$</span>.</li><li><code>f_z</code>: Normalized field intensity component <span>$|E_z/E_0|^2$</span>.</li><li><code>f_p</code>: Total normalized field intensity enhancement <span>$|E_{total}/E_0|^2$</span>.</li></ol><p><strong>Physics Note</strong></p><p>Field enhancement is calculated as the ratio of the local field intensity to the  incident field intensity.</p><ul><li>For <strong>P-polarization</strong>, the field exists in the plane of incidence:  <span>$E_{total} = \sqrt{|E_x|^2 + |E_z|^2}$</span>.</li><li>For <strong>S-polarization</strong>, the field is perpendicular to the plane of incidence:  <span>$E_{total} = |E_y|$</span>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Xyarc/AttenuatedTotalReflectance.jl/blob/cf2fc27aa7f07e7f9b14256dfb303a742e694ff8/src/Fresnel_Equations.jl#L166-L201">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AttenuatedTotalReflectance.wavelength_ATR"><a class="docstring-binding" href="#AttenuatedTotalReflectance.wavelength_ATR"><code>AttenuatedTotalReflectance.wavelength_ATR</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">wavelength_ATR(stack, theta, wavelength_range, d=0.0, metal_layer=0; S=false)</code></pre><p>Perform a wavelength dependant Attenuated Total Reflection (ATR) simulation, calculating  reflectivity, transmittance, and the electric field enhancement at a specific location for a fixed angle.</p><p><strong>Arguments</strong></p><ul><li><code>stack::Vector</code>: A vector of layer objects. Each must contain <code>.n</code>, <code>.k</code>, and <code>.thickness</code>. See <code>material_stack</code></li><li><code>theta::Number</code>: A range or vector of incident angles in radians.</li><li><code>wavelength_range::AbstractVector</code>: The vacuum wavelength of the incident light.</li><li><code>d::Number</code>: The distance from the interface of the <code>target_layer</code> (in the same units  as <code>wavelength</code>) at which to compute the electric field.</li><li><code>metal_layer::Int</code>: An index used by <code>Target_Layer</code> to identify the specific layer  of interest (e.g., the gold layer in a Kretschmann configuration). Used for plasmonic systems</li><li><code>S::Bool</code>: If <code>true</code>, calculates for S-polarization (TE). If <code>false</code> (default),  calculates for P-polarization (TM).</li></ul><p><strong>Returns</strong></p><p>A <code>Tuple</code> containing eight vectors (each of length <code>length(theta_range)</code>):</p><ol><li><code>reflectivity</code>: Intensity reflection coefficient (R).</li><li><code>transmittance</code>: Intensity transmission coefficient (T) into the final medium.</li><li><code>f_x</code>: Normalized field intensity component <span>$|E_x/E_0|^2$</span>.</li><li><code>f_y</code>: Normalized field intensity component <span>$|E_y/E_0|^2$</span>.</li><li><code>f_z</code>: Normalized field intensity component <span>$|E_z/E_0|^2$</span>.</li><li><code>f_p</code>: Total normalized field intensity enhancement <span>$|E_{total}/E_0|^2$</span>.</li></ol><p><strong>Physics Note</strong></p><p>Field enhancement is calculated as the ratio of the local field intensity to the  incident field intensity.</p><ul><li>For <strong>P-polarization</strong>, the field exists in the plane of incidence:  <span>$E_{total} = \sqrt{|E_x|^2 + |E_z|^2}$</span>.</li><li>For <strong>S-polarization</strong>, the field is perpendicular to the plane of incidence:  <span>$E_{total} = |E_y|$</span>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Xyarc/AttenuatedTotalReflectance.jl/blob/cf2fc27aa7f07e7f9b14256dfb303a742e694ff8/src/Fresnel_Equations.jl#L263-L298">source</a></section></details></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 3 February 2026 16:59">Tuesday 3 February 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
